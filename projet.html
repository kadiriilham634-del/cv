<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>END. Animation Fusion/Larmes en Boucle</title>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    
    <style>
        
        :root {
            --hex-green-1: #ff0404; 
        }
        
        body {
            background-color: #000; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh; 
            margin: 0;
            color: white;
            font-family: Arial, sans-serif;
            overflow: hidden; 
        }

        
        .glitch-split-container {
            perspective: 600px; 
            position: relative;
        }

        
        .end-text {
            font-family: 'Anton', sans-serif; 
            font-size: 300px; 
            font-weight: 400; 
            color: rgb(255, 255, 255); 
            letter-spacing: 0px; 
            position: relative;
            text-transform: uppercase; 
            
            opacity: 0; 
            transform-style: preserve-3d; 
            display: inline-block;
            
            
            white-space: normal; 
            overflow: visible; 
            border-right: none; 
            
            
            animation: glitch-loop 0.4s 1s infinite linear alternate; 
        }

        
        .char { 
            display: inline-block; 
            position: relative;
            opacity: 1; 
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.5); 
        }

        
        .char::before,
        .char::after {
            content: attr(data-char);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: white; 
            overflow: hidden; 
            animation: glitch-split 0.4s 1s infinite linear alternate; 
        }

        .char::before {
            left: 0px; 
            text-shadow: 
                -8px 0 5px rgba(123, 124, 124, 0.7);
            animation: glitch-split 0.4s 1s infinite linear alternate-reverse; 
        }

        .char::after {
            left: 0px; 
            text-shadow: 
                8px 0 5px rgba(255, 255, 255, 0.7);
            animation: glitch-split 0.4s 1s infinite linear alternate; 
        }

        
        
        
        @keyframes glitch-loop {
            0%, 100% { transform: translateX(0px) translateY(0px); filter: blur(0px); }
            25% { transform: translateX(5px) translateY(-3px); filter: blur(1.5px); }
            50% { transform: translateX(-4px) translateY(2px); filter: blur(0px); }
            75% { transform: translateX(3px) translateY(-1px); filter: blur(1px); }
        }

        
        @keyframes glitch-split {
            0% { clip: rect(0px, 900px, 10px, 0px); transform: translateX(0px) translateY(0px); }
            25% { clip: rect(0px, 900px, 150px, 0px); transform: translateX(-10px) translateY(0px); filter: blur(2px); }
            50% { clip: rect(0px, 900px, 280px, 0px); transform: translateX(8px) translateY(0px); filter: blur(1px); }
            75% { clip: rect(0px, 900px, 350px, 0px); transform: translateX(-12px) translateY(0px); filter: blur(3px); }
            100% { clip: rect(0px, 900px, 10px, 0px); transform: translateX(9px) translateY(0px); filter: blur(1.5px); }
        }
    </style>
</head>
<body>

<div class="glitch-split-container">
    <div id="endText" class="end-text">END.</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const $endText = document.getElementById('endText');
    const originalText = $endText.textContent;
    $endText.innerHTML = ''; 

    
    const $chars = [];
    for (const char of originalText) {
        const span = document.createElement('span');
        span.classList.add('char');
        span.textContent = char;
        span.setAttribute('data-char', char); 
        span.style.opacity = 1; 
        $endText.appendChild(span);
        $chars.push(span);
    }
    
    
    const fullSequence = anime.timeline({
        easing: 'easeInOutQuad',
        autoplay: true,
        loop: true, 
        direction: 'normal',
        loopComplete: () => {
             
             anime.set($endText, { opacity: 0, scale: 0.7, filter: 'blur(20px)' });
             
             anime.set($chars, { 
                opacity: 1, 
                translateY: 0, 
                translateZ: 0, 
                rotate: 0,
                translateX: 0 
             });
        }
    });

    
    fullSequence.add({
        targets: $endText,
        opacity: { value: 1, duration: 500 },
        scale: { value: [0.7, 1], duration: 500 },
        filter: { value: ['blur(20px)', 'blur(0px)'], duration: 500 },
    }, 0)

    
    .add({
        targets: $endText,
        duration: 100, 
    }, '+=0') 

    
    .add({
        targets: $chars,
        translateY: [0, 800], 
        translateX: () => anime.random(-70, 70), 
        rotate: () => anime.random(-30, 30), 
        opacity: [4, 0], 
        easing: 'easeInQuad', 
        duration: 3000, 
        delay: anime.stagger(100, { from: 'center' }), 
    }, '+=0') 

    
    .add({
        targets: $endText,
        duration: 100, 
    }, '+=0'); 
});
</script>

</body>
</html>
